## Questions

### If the block is found invalid by a node, it will not be forwarded to the peers. However, there needs to be some mechanism to give this feedback to the node which created the block? Or else, different nodes would have different blockchains? And hence, subsequent blocks created by one node would be invalid for others?

If a node is built correctly, it will never generate an invalid block in the first place. So we can rule out the possibility that an incorrect block was inadvertently generated by a node. So now we have two options: either the node has not been properly built, or that the incorrect block was generated by someone who's trying to mess with the system. In the latter case, you don't have to worry about the welfare of miscreants. The former case is pretty rare in reality (because most people use standard mining softwares). However, in our case, it may be a frequent problem since we all have our self-coded nodes.  
A simple feedback mechanism would be the response of the API request that you receive. You could give the response code 400 (Bad Request) and in the response body, you can write the reason for which the block/transaction was rejected.

### I think there will be a significant time gap between the time when a transaction is created and the time when the transaction is included in a block. If a user wants to use the output of a pending transaction, can he do that?

Yes there will be a significant time gap between the time a transaction is created and the time it is included in a block. And no, a user cannot try to use the output of a transaction that is pending. It needs to be mined to be used. Since you can only spend coins that have been confirmed, you cannot spend the same coins more than one. Thus, mining prevents coins from being spent multiple times. I'll post about this multiple-spending thing soon.

### Since the lag is significant, this system would be economically ineffecient right? There should be a workaround for the same?

No the system won't be economically inefficient :rolling_on_the_floor_laughing:. The target would be chosen such that blocks are mined at a constant speed. Note that mining blocks requires computing power, so we need to pay the miners as well. So if you want your transaction to get confirmed as soon as possible, you should give more transaction fee. :stuck_out_tongue:

### I meant something else by economic ineffeciency. Here's what I meant: Fact-  a transaction after its creation would be verified after a significant lag. Also a user cannot use the output of an unverified transaction. Inference- So effectively this means that if I send you a Bitcoin now, only after a significant time, you can use it. Ineffeciency- I think this is ineffecient because currently used systems like regular fiat currency would transfer value immediately, without a lag. A delay in transferring value is equivalent to a loss of value for the user. (Just like if I repay my loan with a delay, it is a loss of value for the bank)So does this sound like a valid point? And if it does is there a workaround/justification?

Note that the time taken to mine a block depends on the target. So we can choose the target such that on average, a new block is mined every 10 minutes (like it is done in bitcoin). Also, the size of a transaction is around 1KB, and the block is allowed to be of 1MB. So we can have about 1000 transactions in a block. This means 1000 confirmed transactions every 10 minutes. So with a fair transaction fee, your transaction would be confirmed within 1hr.
Compare this to the main benefit that a cryptocurrency provides - anonymity. The person you pay doesn't know who you are (he just knows your public key, not your name or address or face or anything else about you). If you were to build such an anonymous payment system using conventional methods, you'd probably need a middle man whom you trust. But in a non-centralized cryptocurrency system, you don't have to trust anyone, as all the data is public.

### What is the point of creating a block? One could simply have a chain of transactions? A miner could find a nonce value for every transaction and verify every transaction? The entire process as done for a block could be done for each transaction.

It's easy to observe that the time taken to mine something (a block, a transaction, or like even a string (as we did in assignment 1)) depends mainly on the target. The size of the input does matter, but when compared to the effect of the target, it is negligible. So for the same target, the expected time to mine either a block, or a single transaction, would be approximately the same. And hence, if we take so much time to mine individual transactions, there would be a lot of pending transactions. A block is more efficient in that it confirms a group of transactions at once, instead of individual transactions.

### If I am a user I would use all those outputs with my public key as inputs. The person verifying the transaction would then consider all the unused output transactions with my public key to make sure the inputs and outputs match and that I have a minimum sum to make the transaction. Why not have a Wallet for the person then? (It's not been explicitly mentioned uptil now so I thought I'd ask)

A wallet is nothing but a record of all the inputs and outputs related to you. You cannot "store" coins in a wallet. You can just store records. And yes we'll implement that later.

### When we broadcast a block to peers there could be a chance that due to some errors a person might not receive it. Also, when a new peer wants to be added to the network, he must then get a copy of the BlockChain. So would it be right to say that the Longest BlockChain is the correct BlockChain (assuming the verification mechanism is working correctly in all the nodes) 

Not necessarily. There are known attacks that can build the longest chain using less computing power. Instead, we say that the chain that has the most "energy" stored in it (as in, the chain that required the largest computing power) is the correct chain. This can require the use of timestamps of mining a block. We'll cover this later.

### A clarification related to time lags... At time t0 all the peers have the same blockChain. Now, say person A and person B start mining a set of transactions. And suppose person A finds the nonce first and sends it to all the peers to review. That block gets added to the BlockChain. So now all the work done by person B upto this point has has gone to water right?

Yes, all the work done by B was a waste.

### And as a side note, just some implementation clarifications, if we are working to mine a block, we should remove any transactions, inputs, outputs from our pending list only once it has been verified by a fraction of the peers and has been added to the BlockChain.

You should remove transactions and outputs from your pending list once you verify that the block is correct. This doesn't have to take into account what your peers think.

